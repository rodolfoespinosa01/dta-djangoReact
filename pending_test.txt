ğŸ§ª DTA MASTER BACKEND TEST LIST (Backend Only)

ğŸ” Auth & Access Control
âœ… Admin login with correct credentials - done
âœ… Admin login with invalid credentials - done
âœ… Admin cannot access dashboard if not logged in - done
ğŸ”² Admin session persists after page refresh (via token) - done
ğŸ”² SuperAdmin login and access to /superadmindashboard
ğŸ”² Invalid users cannot access SuperAdmin routes
ğŸ”² Token auto-refresh logic (optional)
ğŸ‘¨â€ğŸ’¼ Admin Free Trial Flow
âœ… Stripe webhook creates PendingAdminSignup
âœ… Token-based admin registration succeeds
âœ… Free trial user created with:
subscription_status = admin_trial
AdminProfile auto-created
trial_start_date is set
subscription_started_at is null
admin_stripe_customer_id is stored
ğŸ”² Celery task upgrades to monthly:
subscription_status becomes admin_monthly
subscription_started_at is set
admin_stripe_subscription_id is saved
ğŸ’¸ Stripe Billing & Subscription Logic
ğŸ”² Setup Intent correctly stores payment method
ğŸ”² Stripe triggers charge on monthly plan post-trial
ğŸ”² auto_renew_cancelled=True skips upgrade
ğŸ”² Annual plan sets correct Stripe subscription ID
ğŸ”² Stripe webhook updates DB correctly
ğŸ“¬ Pending Signup Token Flow
ğŸ”² Token is generated and stored on webhook
ğŸ”² Token becomes invalid after one use
ğŸ”² Invalid or reused token errors gracefully
ğŸ”² Registration pulls email from token record
ğŸ“Š SuperAdmin Dashboard Logic
ğŸ”² Shows all Admins grouped by plan (trial/monthly/annual)
ğŸ”² Revenue totals are correct
ğŸ”² Projected monthly income is correct
ğŸ”² Trial countdown / expiration logic is correct
ğŸ”‘ Admin Password Reset
ğŸ”² Password reset request saves token
ğŸ”² Simulated email prints reset URL
ğŸ”² Password can be changed
ğŸ”² Old password fails, new one works
âš™ï¸ Celery Task Health
ğŸ”² Celery worker starts and connects to Redis
ğŸ”² Logs show trial upgrade task execution
ğŸ”² Upgrade skipped if auto_renew_cancelled=True
ğŸ”² Graceful error if Stripe payment method is missing
ğŸ§¹ Developer Scripts
âœ… reset_all clears test users and resets DB
âœ… machineupdate.sh pulls latest, installs backend/frontend deps, and runs migrations
âœ… startapp.sh launches 4-terminal environment:
Django
React
Celery
Stripe webhook
ğŸŒ Environment Health Checks
âœ… .env Stripe + DB variables load properly
âœ… PostgreSQL connection succeeds
âœ… Redis is installed and reachable
âœ… Stripe keys valid (test mode)